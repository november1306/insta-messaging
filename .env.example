# ==============================================================================
# INSTAGRAM BUSINESS API CONFIGURATION
# ==============================================================================
# Instagram Business Account credentials for messaging and webhooks

# Instagram App Secret (for webhook signature validation)
# Get from: Facebook App Dashboard > Instagram > Basic Settings
INSTAGRAM_APP_SECRET=your_instagram_app_secret_here

# ==============================================================================
# LEGACY CREDENTIALS (Optional - for backward compatibility only)
# ==============================================================================
# The OAuth multi-account system stores per-account tokens in the database.
# These legacy credentials are NO LONGER REQUIRED and will be removed in a future version.
# Only set these if you need backward compatibility with pre-OAuth code.

# INSTAGRAM_PAGE_ACCESS_TOKEN=your_page_access_token_here
# INSTAGRAM_BUSINESS_ACCOUNT_ID=your_business_account_id_here


# ==============================================================================
# INSTAGRAM OAUTH CONFIGURATION (Multi-Account Support)
# ==============================================================================
# Used for Instagram Business Login - allows users to link multiple accounts

# OAuth Client ID (from Facebook App Dashboard)
INSTAGRAM_OAUTH_CLIENT_ID=your_oauth_client_id_here

# OAuth Client Secret (same as INSTAGRAM_APP_SECRET)
INSTAGRAM_OAUTH_CLIENT_SECRET=your_oauth_client_secret_here

# OAuth Redirect URI (where Instagram redirects after authorization)
# Development: http://localhost:8000/oauth/instagram/callback
# Production: https://your-domain.com/oauth/instagram/callback
# Ngrok: https://your-subdomain.ngrok-free.dev/oauth/instagram/callback
INSTAGRAM_OAUTH_REDIRECT_URI=http://localhost:8000/oauth/instagram/callback


# ==============================================================================
# FACEBOOK WEBHOOK CONFIGURATION (Legacy - Minimize Usage)
# ==============================================================================
# Only needed for webhook verification - Instagram uses Facebook's webhook system

# Webhook Verify Token (custom string you define in Facebook App Dashboard)
FACEBOOK_VERIFY_TOKEN=your_verify_token_here

# Facebook App Secret (only if different from Instagram App Secret)
# Usually same as INSTAGRAM_APP_SECRET - can be removed if identical
FACEBOOK_APP_SECRET=your_facebook_app_secret_here


# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

HOST=0.0.0.0
PORT=8000
ENVIRONMENT=development

# Public base URL (required for Instagram to fetch media attachments)
# Development: http://localhost:8000
# Production: https://your-domain.com
# Ngrok: https://your-subdomain.ngrok-free.dev
PUBLIC_BASE_URL=http://localhost:8000

# Frontend URL (for OAuth redirects)
# Development: http://localhost:5173
# Production: https://your-frontend-domain.com
FRONTEND_URL=http://localhost:5173


# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# SQLite database path
# Development: sqlite+aiosqlite:///./instagram_automation.db
# Production: sqlite+aiosqlite:///./data/production.db
DATABASE_URL=sqlite+aiosqlite:///./instagram_automation.db


# ==============================================================================
# CRM MYSQL INTEGRATION (Optional Dual Storage)
# ==============================================================================
# Enable to sync messages to external CRM MySQL database

CRM_MYSQL_ENABLED=false
CRM_MYSQL_HOST=your_mysql_host_here
CRM_MYSQL_USER=your_mysql_user_here
CRM_MYSQL_PASSWORD=your_mysql_password_here
CRM_MYSQL_DATABASE=your_mysql_database_here


# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================

# Session Secret (CRITICAL - used for JWT signing AND credential encryption)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# WARNING: Changing this requires re-encrypting all stored OAuth tokens
SESSION_SECRET=your_session_secret_here

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24


# ==============================================================================
# DEVELOPMENT & TESTING
# ==============================================================================

# Ngrok Auth Token (for local webhook testing)
# Get from: https://dashboard.ngrok.com/get-started/your-authtoken
NGROK_AUTHTOKEN=your_ngrok_authtoken_here

# Test User IDs (comma-separated)
# Format: @username:user_id
TEST_USER_IDS=

# Logging Level
LOG_LEVEL=INFO
